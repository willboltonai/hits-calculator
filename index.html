<!--
{
  "templateId": "urn:uuid:7c3f3e77-b3b8-49f1-9368-a2f7b2f73231",
  "title": "Liverpool Head Injury Tomography Score (HITS) – Structured Reporting (GCS 13–15)",
  "shortName": "HITS_CT_HEAD",
  "version": "1.0.0",
  "status": "draft",
  "modality": ["CT"],
  "bodyPart": ["Head"],
  "authors": ["William S Bolton, et al."],
  "license": "Proprietary",
  "institution": "Your Trust / Department",
  "dateCreated": "2025-08-14",
  "description": "Checklist to compute HITS and provide a recommendation for mild TBI (GCS 13–15)."
}
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HITS – Structured Reporting (GCS 13–15)</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0;background:#0e1729;color:#eaf0ff}
  .wrap{max-width:980px;margin:28px auto;padding:0 16px}
  h1{margin:.2rem 0 .4rem;font-size:1.4rem}
  p.sub{margin:.1rem 0 1rem;color:#a8b3c7}
  .grid{display:grid;gap:14px}
  @media(min-width:780px){.grid{grid-template-columns:repeat(3,1fr)}}
  fieldset{border:1px solid #203255;border-radius:12px;padding:10px;background:#0b1428}
  legend{padding:0 6px;color:#9ad3ff}
  label.opt{display:flex;gap:.6rem;align-items:flex-start;border-radius:10px;padding:.35rem .5rem;margin:.25rem 0}
  label.opt:hover{background:#0f1c33}
  .pts{margin-left:auto;color:#a8b3c7;font-variant-numeric:tabular-nums}
  .summary{grid-column:1/-1;border:1px solid #203255;background:#0b1428;border-radius:12px;padding:12px}
  .pill{display:inline-block;margin-right:10px;border-radius:999px;padding:6px 10px;border:1px solid #223a64;background:#0c1730}
  .pill.bad{border-color:#4b262b;background:#221112;color:#ffd3d3}
  .pill.warn{border-color:#4b431f;background:#221d0d;color:#ffe9a8}
  .pill.good{border-color:#244b37;background:#0d2117;color:#caffdf}
  textarea{width:100%;min-height:120px;margin-top:8px;border-radius:10px;border:1px solid #203255;background:#0b152b;color:#eaf0ff;padding:10px;font-family:ui-monospace,Menlo,Consolas,monospace}
  small{color:#a8b3c7}
  a{color:#9ad3ff}
</style>
</head>
<body>
<div class="wrap">
  <h1>Liverpool Head Injury Tomography Score (HITS) – Calculator and Stuctured Report</h1>
  <p class="sub">Structured reporting for mild TBI (GCS 13–15). Tick one option in each section; the total score and recommendation update automatically.</p>

  <div class="grid">
    <!-- Extra-axial haemorrhage -->
    <fieldset id="extraaxial"><legend>Extra-axial haemorrhage</legend>
      <label class="opt"><input type="radio" name="extraaxial" value="0" checked> No extra-axial haemorrhage <span class="pts">0</span></label>
      <label class="opt"><input type="radio" name="extraaxial" value="1" data-code-radlex="RID4706" data-code-snomed="95453001"> Tentorial / parafalcine subdural <span class="pts">1</span></label>
      <label class="opt"><input type="radio" name="extraaxial" value="1" data-code-snomed="16916421000119100"> Subdural hygroma <span class="pts">1</span></label>
      <label class="opt"><input type="radio" name="extraaxial" value="3" data-code-radlex="RID4706" data-code-snomed="35486000"> Any other subdural haematoma <span class="pts">3</span></label>
      <label class="opt"><input type="radio" name="extraaxial" value="3" data-code-radlex="RID4708" data-code-snomed="428268007"> Extradural (epidural) haematoma <span class="pts">3</span></label>
    </fieldset>

    <!-- Subarachnoid haemorrhage -->
    <fieldset id="sah"><legend>Subarachnoid haemorrhage</legend>
      <label class="opt"><input type="radio" name="sah" value="0" checked> No SAH <span class="pts">0</span></label>
      <label class="opt"><input type="radio" name="sah" value="1" data-code-radlex="RID4710" data-code-snomed="21454007"> Peripheral SAH only <span class="pts">1</span></label>
      <label class="opt"><input type="radio" name="sah" value="2" data-code-snomed="274100004"> Intraventricular haemorrhage <span class="pts">2</span></label>
      <label class="opt"><input type="radio" name="sah" value="3" data-code-radlex="RID4710" data-code-snomed="21454007"> Blood around Circle of Willis / Sylvian fissures <span class="pts">3</span></label>
      <label class="opt"><input type="radio" name="sah" value="3" data-code-radlex="RID4710" data-code-snomed="21454007"> Blood in basal cisterns <span class="pts">3</span></label>
    </fieldset>

    <!-- Parenchymal contusion -->
    <fieldset id="contusion"><legend>Parenchymal contusion</legend>
      <label class="opt"><input type="radio" name="contusion" value="0" checked> No contusion <span class="pts">0</span></label>
      <label class="opt"><input type="radio" name="contusion" value="1" data-code-snomed="90768003"> Single contusion &lt; 1 cm <span class="pts">1</span></label>
      <label class="opt"><input type="radio" name="contusion" value="2" data-code-snomed="90768003"> ≤3 contusions all &lt; 1 cm <span class="pts">2</span></label>
      <label class="opt"><input type="radio" name="contusion" value="2" data-code-snomed="90768003"> ≥1 contusion ≥ 1 cm <span class="pts">2</span></label>
      <label class="opt"><input type="radio" name="contusion" value="3" data-code-snomed="90768003"> ≥4 contusions (any size) <span class="pts">3</span></label>
      <label class="opt"><input type="radio" name="contusion" value="3" data-code-snomed="90768003"> Any single contusion &gt; 2 cm <span class="pts">3</span></label>
    </fieldset>

    <!-- Skull fracture -->
    <fieldset id="fracture"><legend>Skull fracture / intracranial air</legend>
      <label class="opt"><input type="radio" name="fracture" value="0" checked> No fracture <span class="pts">0</span></label>
      <label class="opt"><input type="radio" name="fracture" value="1" data-code-snomed="445493000"> Undisplaced fracture <span class="pts">1</span></label>
      <label class="opt"><input type="radio" name="fracture" value="3" data-code-snomed="95850008"> Depressed / comminuted / compound fracture <span class="pts">3</span></label>
      <label class="opt"><input type="radio" name="fracture" value="3" data-code-snomed="262550002"> Penetrating injury / retained foreign body <span class="pts">3</span></label>
      <label class="opt"><input type="radio" name="fracture" value="3" data-code-snomed="71642004" data-code-snomed-alt="14415006"> Base of skull fracture or pneumocephalus <span class="pts">3</span></label>
    </fieldset>

    <!-- Summary / output -->
    <div class="summary" id="summary">
      <span id="sumPill" class="pill">HITS total: <strong><span id="sum">0</span></strong></span>
      <span id="recPill" class="pill good">Recommendation: Local management per guidance</span>
      <textarea id="report" readonly></textarea>
      <small>
        Disclaimer:</strong> The HITS score was derived and validated by Gillespie et&nbsp;al. (2020) based on a mild TBI referral cohort (GCS&nbsp;13–15). 
  They found it to have <strong>99% sensitivity</strong> and <strong>52% specificity</strong> for determining surgically significant TBI (AUC&nbsp;0.79, 95% CI&nbsp;0.76–0.82). 
  See <a href="https://doi.org/10.1080/02688697.2019.1710825" target="_blank" style="color:#5cc8ff;">
  Gillespie et&nbsp;al., Br&nbsp;J&nbsp;Neurosurg&nbsp;2020</a> for full details. 
  This tool reproduces their structured reporting format for clinical use and individual risk stratification. 
  
  Copyright © 2025 William Stephen Bolton. All rights reserved. This software is the property of the copyright holder and may not be copied, modified, merged, published, distributed, sublicensed, or sold without prior written permission from the copyright holder. Unauthorized use, reproduction, or distribution of this software, or any portion of it will be prosecuted to the maximum extent possible under law.
      </small>
    </div>
  </div>
</div>

<script>
(function(){
  const groups = ["extraaxial","sah","contusion","fracture"];
  const sumEl = document.getElementById('sum');
  const recPill = document.getElementById('recPill');
  const sumPill = document.getElementById('sumPill');
  const report = document.getElementById('report');

  function get(name){
    const el = document.querySelector(`input[name="${name}"]:checked`);
    return { val: el? Number(el.value):0, label: el? el.parentElement.textContent.replace(/\s+\d+$/,'').trim():'(none)' };
  }
  function classify(t){
    if (t>=3) return {txt:"Surgically significant — refer neurosurgery on-call", tone:"bad"};
    if (t===2) return {txt:"Abnormal — admit locally, repeat CT in ~24 h, follow head-injury guidance", tone:"warn"};
    if (t===1) return {txt:"Abnormal — admit locally for neurological observations", tone:"warn"};
    return {txt:"Local management per guidance (no neurosurgical opinion required)", tone:"good"};
  }
  function tone(el, t){
    el.classList.remove('good','warn','bad');
    el.classList.add(t==='bad'?'bad':t==='warn'?'warn':'good');
  }
  function update(){
    const vals = groups.map(get);
    const total = vals.reduce((a,b)=>a+b.val,0);
    sumEl.textContent = total;
    const rec = classify(total);
    recPill.textContent = "Recommendation: " + rec.txt;
    tone(recPill, rec.tone);
    tone(sumPill, total>=3?'bad':(total>0?'warn':'good'));
    report.value = [
      "HITS structured report (GCS 13–15)",
      `Total = ${total}`,
      "Components:",
      `• Extra-axial haemorrhage: ${vals[0].label}`,
      `• SAH: ${vals[1].label}`,
      `• Parenchymal contusion: ${vals[2].label}`,
      `• Skull fracture: ${vals[3].label}`,
      `Recommendation: ${rec.txt}.`
    ].join("\n");
  }
  document.querySelectorAll('input[type="radio"]').forEach(i=>i.addEventListener('change',update));
  update();
})();
</script>
</body>
</html>
